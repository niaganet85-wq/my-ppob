<div class="w-full h-44 rounded-[2rem] mb-8 relative group overflow-hidden shadow-lg border border-gray-200">
    <div id="slider-banner" class="flex w-full h-full overflow-x-auto snap-x snap-mandatory scroll-smooth no-scrollbar">
        <div class="w-full h-full flex-shrink-0 bg-gray-300 flex items-center justify-center snap-center">
            <p class="text-xs text-gray-500 animate-pulse">Memuat Promo...</p>
        </div>
    </div>
    
    <div class="absolute bottom-3 left-0 w-full flex justify-center gap-1" id="indikator-banner"></div>
</div>

<style>
    /* Hilangkan scrollbar agar slide mulus */
    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
</style>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-app.js";
    import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-database.js";

    const firebaseConfig = {
        apiKey: "AIzaSyAIxFEDC9QBYsOyPFFL5tUBz1I8mlH66Hs",
        authDomain: "games-ku.firebaseapp.com",
        databaseURL: "https://games-ku-default-rtdb.firebaseio.com", // Pastikan URL ini benar
        projectId: "games-ku",
        storageBucket: "games-ku.firebasestorage.app",
        messagingSenderId: "488423956",
        appId: "1:488423956:web:79f659dee525fdbc76dd01",
        measurementId: "G-JYEJK67H4V"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    // --- LOAD SLIDER BANNER ---
    onValue(ref(db, 'banners'), (snap) => {
        const data = snap.val();
        const slider = document.getElementById('slider-banner');
        const indikator = document.getElementById('indikator-banner');
        
        slider.innerHTML = "";
        indikator.innerHTML = "";
        
        if(data) {
            let index = 0;
            Object.values(data).forEach(banner => {
                // Tambah Gambar Slide
                slider.innerHTML += `
                <img src="${banner.url}" class="w-full h-full object-cover flex-shrink-0 snap-center bg-gray-200">
                `;
                
                // Tambah Titik Indikator
                indikator.innerHTML += `
                <div class="w-2 h-2 rounded-full bg-white/50 backdrop-blur-sm"></div>
                `;
                index++;
            });
            
            // Fitur Auto Slide Sederhana (Opsional)
            let scrollPos = 0;
            setInterval(() => {
                scrollPos += slider.offsetWidth;
                if(scrollPos >= slider.scrollWidth) scrollPos = 0;
                slider.scrollLeft = scrollPos;
            }, 3000); // Geser setiap 3 detik
        } else {
            // Gambar default jika kosong
            slider.innerHTML = `<img src="https://via.placeholder.com/800x400?text=GAME+KU+PROMO" class="w-full h-full object-cover">`;
        }
    });
</script>
